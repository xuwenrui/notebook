[`Tired of Null Pointer Exceptions? Consider Using Java SE 8's "Optional"!`](https://www.oracle.com/technical-resources/articles/java/java8-optional.html#:~:text=If%20soundcard%20were%20null%2C%20a%20NullPointerException%20would%20be,hold%20a%20null%20value%3A%20Optional%3CSoundcard%3E%20sc%20%3D%20Optional.ofNullable%28soundcard%29%3B)
**使您的代码更具可读性，并防止其出现空指针异常。**

https://blog.csdn.net/qq_44749491/article/details/131527944

##### 1.ofNullable
一般使用Optional的静态方法ofNullable来把数据封装成一个Optional对象。
无论传入的参数是否为null都不会出现问题。
```java
User user = new User();
Optional<User> userOptional = Optional.ofNullable(user);
```
这里可能会觉得还要加一行代码来封装数据比较麻烦。
但是在实际开发中我们的数据很多是从数据库获取的。Mybatis从3.5版本开始也已经支持Optional了。
可以直接把dao方法的返回值类型定义成Optional类型，MyBastis会自己把数据封装成Optional对象返回。

##### 2.of
如果能够**确定一个对象不是空的话**的则可以使用**Optional**的**静态方法of**来把数据封装成`Optional`对象。

```java
User user = new User();
Optional<User> userOptional = Optional.of(user);
```
##### 3.empty
如果一个方法的返回值类型是`Optional`类型。而如果我们经判断发现某次计算得到的返回值为`null`，这个时候
就需要把`null`封装成`Optional`对象返回。这时则可以使用**Optional**的**静态方法empty**来进行封装
```java
Optional<Object> empty = Optional.empty();
```

##### 4 ofNullable和of者的区别
of(T value)当参数value值为null时，of(T value)会报NullPointerException异常；

ofNullable(T value)当参数value值为null时，不会throw Exception，而是直接返回一个EMPTY对象，相当于调用了Optional.empty()。

#### 安全消费OPtional对象的值
获取到一个Optional对象后肯定需要对其中的数据进行使用。

这时候我们可以使用其ifPresent方法对来消费其中的值。

这个方法会判断其内封装的数据是否为空，不为空时才会执行具体的消费代码。这样使用起来就更加安全了。

ifPresent方法分为有参和无参两种形式，源码如下：
————————————————

                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。
                        
原文链接：https://blog.csdn.net/qq_44749491/article/details/131527944


