Java 12 引入了默认启用的类数据共享 (CDS) 存档功能，这是通过JEP 341实现的。CDS（Class Data Sharing）是一种提高Java启动时间和减少内存占用的技术，它允许多个Java虚拟机实例共享同一个类元数据。在Java 11及以前的版本中，虽然CDS已经存在，但用户需要手动创建和指定CDS归档文件。而在Java 12中，这个过程变得更加自动化，因为它默认包含了通用类集的CDS档案。

### CDS档案的作用

CDS档案主要包含以下内容：

- **已装载类的元数据**：包括类和接口的结构信息，如字段、方法等。
- **字符串常量池**：所有已装载类的字符串常量池中的数据。

### Java 12中的默认CDS档案

在Java 12中，当JDK安装时，会自动生成一个默认的CDS归档文件，通常命名为`default.cds`或者特定于版本的名称，存放在JDK的`lib/archive`目录下。这个默认的CDS档案包含了JDK自带的基础类库的类数据，使得任何基于相同JDK版本的应用程序启动时，都可以直接复用这些预先计算和优化过的类数据，从而加速启动过程并减少内存占用。

### 如何受益

开发者和最终用户不需要做任何额外配置即可自动享受到CDS带来的好处。对于服务器环境下的应用部署，尤其是频繁启动短生命周期的Java应用，CDS的默认启用能够显著提升启动速度和资源利用效率。

### 注意事项

尽管Java 12默认启用了CDS，但有几点需要注意：

- **兼容性**：默认CDS档案与特定的JDK版本和构建相绑定，因此，如果更新了JDK版本，可能需要重新生成CDS档案。
- **自定义扩展**：对于那些希望进一步优化启动时间并减少内存占用的用户，仍然可以创建包含应用程序特定类的自定义CDS归档。
- **禁用选项**：如果出于某些原因（如调试或测试）需要禁用CDS，可以通过启动参数`-Xshare:off`来实现。

总的来说，Java 12通过默认启用CDS档案简化了高性能部署的配置步骤，并为广泛的应用场景带来了实质性的性能提升。