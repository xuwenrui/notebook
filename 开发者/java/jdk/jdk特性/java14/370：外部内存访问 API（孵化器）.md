Java 15 引入了一个新的孵化模块，称为外部内存访问 API（JEP 383），这是一组API，旨在使Java应用程序能够安全、有效地访问和操作Java堆之外的内存。这一特性对于需要高性能数据处理、与底层系统紧密交互或直接操作硬件资源（如图形处理单元GPU、网络设备等）的应用程序特别有价值。

### 目标和功能

外部内存访问API的主要目标包括：

1. **直接内存访问**：允许Java程序直接访问和控制非堆内存区域，比如直接字节缓冲区（Direct Byte Buffers），而不需要昂贵的复制操作。
2. **安全性和类型安全**：在提供直接内存访问能力的同时，确保操作的安全性，防止内存泄漏和不安全的访问。
3. **性能提升**：通过减少数据拷贝和提升内存使用效率，特别是对于大数据处理和I/O密集型应用，可以显著提升性能。
4. **跨平台兼容性**：确保API能够在不同操作系统上一致地工作，简化跨平台开发。

### 关键组件

- **MemorySegment**：这是外部内存访问API的核心类，代表了一段外部内存。它提供了读写访问内存的能力，同时支持内存映射文件、分配和释放内存等功能。
- **MemoryAddress**：表示内存地址的抽象，用于定位内存中的特定位置。
- **VarHandle**：已有API的扩展，用于在MemorySegment上进行原子性的内存访问和更新操作，支持各种基本类型。

### 应用场景

- **高性能计算**：对于需要直接操作硬件资源（如GPU）或进行大规模数据处理的应用。
- **高性能网络编程**：减少数据在Java堆和操作系统之间复制的次数，提高网络I/O性能。
- **大内存数据结构**：处理超过Java堆大小限制的大规模数据集，如图数据库、大规模机器学习模型等。

### 注意事项

- 作为孵化模块，外部内存访问API在Java 15中仍在实验阶段，其API设计和实现细节可能会在后续版本中有所变化。
- 使用孵化模块通常需要在编译和运行时启用特定的标志。