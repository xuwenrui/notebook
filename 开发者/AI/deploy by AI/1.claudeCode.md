#### 安装
https://www.anthropic.com/claude-code

npm install -g @anthropic-ai/claude-code

使用api
https://github.com/musistudio/claude-code-router

npm install -g @musistudio/claude-code-router

#### 千问
C:\Users\38627\.claude-code-router\config.json
```json
{
  "Providers": [
    {
      "name": "modelscope",
      "api_base_url": "https://api-inference.modelscope.cn/v1/chat/completions",
      "api_key": "ms-82bad104-682b-4c61-9d40-872508adc1ab",
      "models": [
        "Qwen/Qwen3-Coder-480B-A35B-Instruct",
        "Qwen/Qwen3-235B-A22B-Thinking-2507"
      ],
      "transformer": {
        "use": [
          [
            "maxtoken",
            {
              "max_tokens": 65536
            }
          ],
          "enhancetool"
        ],
        "Qwen/Qwen3-235B-A22B-Thinking-2507": {
          "use": ["reasoning"]
        }
      }
    }
  ],
  "Router": {
    "default": "modelscope,Qwen/Qwen3-Coder-480B-A35B-Instruct"
  }
}

```
魔搭社区：[https://www.modelscope.cn/my/overview](https://www.modelscope.cn/my/overview)
获取令牌：
![[Pasted image 20250817183343.png|475]]
#### 测试
命令：ccr code
![[Pasted image 20250817183259.png|425]]

#### qwen3-coder-plus 
https://help.aliyun.com/zh/model-studio/claude-code?spm=a2c4g.11186623.0.0.4ccd7980lMvJjC#2b318e761299q

```powershell
# 用您的百炼API Key代替YOUR_DASHSCOPE_API_KEY
setx ANTHROPIC_AUTH_TOKEN "YOUR_DASHSCOPE_API_KEY"
setx ANTHROPIC_BASE_URL "https://dashscope.aliyuncs.com/api/v2/apps/claude-code-proxy"
```

```bash
echo $ANTHROPIC_BASE_URL
echo $ANTHROPIC_AUTH_TOKEN
```
#### gemini

https://aistudio.google.com

``` json
{
  "Providers": [
    {
      "name": "gemini",
      "api_base_url": "https://generativelanguage.googleapis.com/v1beta/models/",
      "api_key": "AIzaSyCiSUrlYjnWG9257MnFAA_ZXlJN6C7h9BY",
      "models": ["gemini-2.5-flash", "gemini-2.5-pro"],
      "transformer": {
        "use": ["gemini"]
      }
    }
  ],
  "Router": {
    "default": "gemini,gemini-2.5-flash",
    "think": "gemini-2.5-pro"
  }
}

```

#### deepseek
https://platform.deepseek.com/usage
```json
{
  "Providers": [
    {
      "name": "deepseek",
      "api_base_url": "https://api.deepseek.com/chat/completions",
      "api_key": "sk-f32fa359379d453db0029eb53f11bf3f",
      "models": ["deepseek-chat", "deepseek-reasoner"],
      "transformer": {
        "use": ["deepseek"],
        "deepseek-chat": {
          "use": ["tooluse"]
        }
      }
    }
  ],
  "Router": {
    "default": "deepseek,deepseek-chat",
    "longContextThreshold": 60000
  }
}

```
##### 1. 斜杠命令（Slash Commands）

| 命令                 | 功能说明                                      |
| :----------------- | :---------------------------------------- |
| `/add-dir <path>`  | 添加额外工作目录供 Claude 访问                       |
| `/bug`             | 上报错误给 Anthropic                           |
| `/clear`           | 清除当前会话上下文                                 |
| `/compact [说明]`    | 整理对话内容，减少 token 使用                        |
| `/config`          | 查看或修改配置                                   |
| `/cost`            | 查看 token 使用统计                             |
| `/doctor`          | 检查 Claude Code 安装状态                       |
| `/help`            | 获取命令帮助列表                                  |
| `/init`            | 创建 `CLAUDE.md`，初始化项目上下文，存储重要的项目信息、约定和常用命令 |
| `/login`、`/logout` | 登录／登出 Anthropic 账户                        |
| `/mcp`             | 管理 Model Context Protocol（MCP）连接          |
| `/memory`          | 编辑项目记忆文件（CLAUDE.md）                       |
| `/model`           | 切换当前使用模型（如 Sonnet/Opus）                   |
| `/permissions`     | 查看/修改权限设置                                 |
| `/pr_comments`     | 查看 Pull Request 评论                        |
| `/review`          | 请求代码审查                                    |
| `/status`          | 查看账户与系统状态                                 |
| `/terminal-setup`  | 一键配置 Shift+Enter 换行                       |
| `/ls-sessions`     | 查看对话session-id（未来上线）                      |
| `/vim`             | 进入 vim 编辑模式                               |
##### 2. CLI 命令

| 命令                             | 作用                   | 示例                                  |
| :----------------------------- | :------------------- | :---------------------------------- |
| `claude`                       | 启动 REPL 交互式会话        | `claude`                            |
| `claude "..."`                 | 带初始提示进入会话            | `claude "explain this project"`     |
| `claude -p "..."`              | 非交互式打印结果后退出          | `claude -p "explain this function"` |
| `cat file \| claude -p "..."`  | 处理管道输入文件             |                                     |
| `claude -c`                    | 继续最近一次会话             |                                     |
| `claude -r <session-id> "..."` | 恢复指定会话               |                                     |
| `claude update`                | 更新 Claude Code 到最新版本 |                                     |
| `claude mcp`                   | 配置 MCP 服务器           |                                     |

#### Error
1.API Error (429 {"error":{"message":"Error from provider(429): {\"errors\":{\"message\":\"Request limit exceeded
ccr restart

